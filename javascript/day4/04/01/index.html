<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>가위바위보 게임</title>
  </head>
  <body>
    <h3>가위바위보 게임</h3>
    <p>가위, 바위, 보 중 하나를 입력하세요</p>
    <input type="text" id="input" />
    <button class="confirm" onclick="onClick()">결과 확인</button>
    <p id="result"></p>
    <script>
      let input = document.getElementById("input");
      let p = document.getElementById("result");

      let list = ["가위", "바위", "보"];
      let icon = ["✌️", "✊", "✋"];

      function onClick() {
        let user = list.indexOf(input.value);
        if (user < 0) {
          return;
        }
        let computer = Math.floor(Math.random() * 3);
        let result = getResult(input.value, list[computer]);

        p.innerHTML = `유저 : ${input.value}<br>
                        컴퓨터 : ${list[computer]}<br>
                        결과 : ${icon[user]}vs${icon[computer]} ${result}`;
      }

      // 0 : 비김 / 1 : 이김 / -1 : 짐
      function getResult(user, comp) {
        let result = 0;
        if (user == "바위") {
          if (comp == "보") result = -1;
          else if (comp == "가위") result = 1;
        } else if (user == "가위") {
          if (comp == "바위") result = -1;
          else if (comp == "보") result = 1;
        } else {
          if (comp == "가위") result = -1;
          else if (comp == "바위") result = 1;
        }

        if (result == 0) {
          return "비겼습니다";
        } else if (result == 1) {
          return "이겼습니다";
        } else {
          return "졌습니다";
        }
      }
    </script>
  </body>
</html>
